<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Passion Hills Table Tennis Club - Management System</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-table-tennis"></i>
                <h1>Passion Hills Table Tennis Club</h1>
            </div>
            <div class="header-actions">
                <button class="btn btn-success btn-small" id="quick-save" title="Save Data">
                    <i class="fas fa-save"></i>
                </button>
                <nav class="nav">
                    <button class="nav-btn active" data-section="dashboard">
                        <i class="fas fa-tachometer-alt"></i> Dashboard
                    </button>
                    <button class="nav-btn" data-section="members">
                        <i class="fas fa-users"></i> Members
                    </button>
                    <button class="nav-btn" data-section="fees">
                        <i class="fas fa-money-bill-wave"></i> Fees
                    </button>
                    <button class="nav-btn" data-section="invoices">
                        <i class="fas fa-file-invoice"></i> Invoices
                    </button>
                    <button class="nav-btn" data-section="reports">
                        <i class="fas fa-chart-bar"></i> Reports
                    </button>
                </nav>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Section -->
            <section id="dashboard" class="section active">
                <h2>Dashboard</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <i class="fas fa-users"></i>
                        <div class="stat-info">
                            <h3 id="total-members">0</h3>
                            <p>Total Members</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-user-check"></i>
                        <div class="stat-info">
                            <h3 id="active-members">0</h3>
                            <p>Active Members</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-rupee-sign"></i>
                        <div class="stat-info">
                            <h3 id="total-collected">₹0</h3>
                            <p>Total Collected</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-exclamation-triangle"></i>
                        <div class="stat-info">
                            <h3 id="pending-payments">0</h3>
                            <p>Pending Payments</p>
                        </div>
                    </div>
                </div>
                
                <div class="recent-activities">
                    <h3>Recent Activities</h3>
                    <div id="recent-activities-list" class="activities-list">
                        <!-- Activities will be populated by JavaScript -->
                    </div>
                </div>
            </section>

            <!-- Members Section -->
            <section id="members" class="section">
                <div class="section-header">
                    <h2>Member Management</h2>
                    <button class="btn btn-primary" id="add-member-btn">
                        <i class="fas fa-plus"></i> Add New Member
                    </button>
                </div>
                
                <div class="search-filter">
                    <input type="text" id="member-search" placeholder="Search members..." class="search-input">
                    <select id="status-filter" class="filter-select">
                        <option value="">All Status</option>
                        <option value="FOUNDING MEMBER">Founding Member</option>
                        <option value="NEW MEMBER">New Member</option>
                        <option value="APPROVED FOR MEMBERSHIP">Approved</option>
                        <option value="Inactive">Inactive</option>
                    </select>
                </div>

                <div class="table-container">
                    <div class="mobile-scroll-hint">← Scroll horizontally to see all columns →</div>
                    <table class="members-table">
                        <thead>
                            <tr>
                                <th>Sl No</th>
                                <th>Name</th>
                                <th>Villa No</th>
                                <th>Status</th>
                                <th>Membership Fee</th>
                                <th>Annual Fee 2023</th>
                                <th>Annual Fee 2024</th>
                                <th>Annual Fee 2025</th>
                                <th>Total Paid</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="members-table-body">
                            <!-- Members will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Fees Section -->
            <section id="fees" class="section">
                <div class="section-header">
                    <h2>Fee Management</h2>
                    <button class="btn btn-primary" id="collect-fee-btn">
                        <i class="fas fa-money-bill-wave"></i> Collect Fee
                    </button>
                </div>
                
                <div class="fee-summary">
                    <div class="fee-card">
                        <h3>Annual Fee 2023</h3>
                        <p>Collected: <span id="fee-2023-collected">₹0</span></p>
                        <p>Pending: <span id="fee-2023-pending">₹0</span></p>
                    </div>
                    <div class="fee-card">
                        <h3>Annual Fee 2024</h3>
                        <p>Collected: <span id="fee-2024-collected">₹0</span></p>
                        <p>Pending: <span id="fee-2024-pending">₹0</span></p>
                    </div>
                    <div class="fee-card">
                        <h3>Annual Fee 2025</h3>
                        <p>Collected: <span id="fee-2025-collected">₹0</span></p>
                        <p>Pending: <span id="fee-2025-pending">₹0</span></p>
                    </div>
                </div>

                <div class="pending-fees">
                    <h3>Pending Fee Collections</h3>
                    <div id="pending-fees-list" class="pending-list">
                        <!-- Pending fees will be populated by JavaScript -->
                    </div>
                </div>
            </section>

            <!-- Invoices Section -->
            <section id="invoices" class="section">
                <div class="section-header">
                    <h2>Invoice Management</h2>
                    <button class="btn btn-primary" id="generate-invoice-btn">
                        <i class="fas fa-file-plus"></i> Generate Invoice
                    </button>
                </div>
                
                <div class="invoice-list" id="invoice-list">
                    <!-- Invoices will be populated by JavaScript -->
                </div>
            </section>

            <!-- Reports Section -->
            <section id="reports" class="section">
                <h2>Reports & Analytics</h2>
                <div class="report-cards">
                    <div class="report-card">
                        <h3>Financial Summary</h3>
                        <div id="financial-summary">
                            <!-- Financial data will be populated by JavaScript -->
                        </div>
                    </div>
                    <div class="report-card">
                        <h3>Member Statistics</h3>
                        <div id="member-statistics">
                            <!-- Member stats will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <div class="export-options">
                    <button class="btn btn-secondary" id="export-members">
                        <i class="fas fa-download"></i> Export Members
                    </button>
                    <button class="btn btn-secondary" id="export-financial">
                        <i class="fas fa-download"></i> Export Financial Data
                    </button>
                    <button class="btn btn-primary" id="backup-data">
                        <i class="fas fa-save"></i> Backup Database
                    </button>
                    <button class="btn btn-success" id="download-json">
                        <i class="fas fa-file-download"></i> Download JSON
                    </button>
                    <button class="btn btn-warning" id="import-json">
                        <i class="fas fa-file-upload"></i> Import JSON
                    </button>
                    <input type="file" id="json-file-input" accept=".json" style="display: none;">
                </div>
            </section>
        </main>
    </div>

    <!-- Modals -->
    <div id="member-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modal-title">Add New Member</h2>
            <form id="member-form">
                <div class="form-group">
                    <label for="member-name">Name:</label>
                    <input type="text" id="member-name" required>
                </div>
                <div class="form-group">
                    <label for="member-villa">Villa No:</label>
                    <input type="text" id="member-villa" required>
                </div>
                <div class="form-group">
                    <label for="member-status">Status:</label>
                    <select id="member-status" required>
                        <option value="">Select Status</option>
                        <option value="FOUNDING MEMBER">Founding Member</option>
                        <option value="NEW MEMBER">New Member</option>
                        <option value="APPROVED FOR MEMBERSHIP">Approved for Membership</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="membership-fee">Initial Membership Fee:</label>
                    <input type="number" id="membership-fee" value="3000">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-member">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Member</button>
                </div>
            </form>
        </div>
    </div>

    <div id="fee-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Collect Fee</h2>
            <form id="fee-form">
                <div class="form-group">
                    <label for="fee-member">Select Member:</label>
                    <select id="fee-member" required>
                        <option value="">Select Member</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="fee-type">Fee Type:</label>
                    <select id="fee-type" required>
                        <option value="">Select Fee Type</option>
                        <option value="annual_2023">Annual Fee 2023</option>
                        <option value="annual_2024">Annual Fee 2024</option>
                        <option value="annual_2025">Annual Fee 2025</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="fee-amount">Amount:</label>
                    <input type="number" id="fee-amount" required>
                </div>
                <div class="form-group">
                    <label for="payment-date">Payment Date:</label>
                    <input type="date" id="payment-date" required>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-fee">Cancel</button>
                    <button type="submit" class="btn btn-primary">Collect Fee</button>
                </div>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
